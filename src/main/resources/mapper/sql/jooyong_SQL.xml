<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="jooyong">
	
	
	<!-- 가맹점 리스트 -->
	<select id="selectbusinessList" parameterType="hashmap" resultType="hashmap">
		<![CDATA[
			select * 
			from business 
			order by businessId desc, businessLicense asc
		]]>
	</select>
		
	
	<!-- 가맹점 상세정보 -->
	<select id="businessView" parameterType="hashmap" resultType="hashmap">
		<![CDATA[
			select * from business where businessId = #{businessId}
			
		]]>
	</select>
	
	
	<!-- 가맹점 등록 -->
	<insert id="businessAdd" parameterType="hashmap">
		<![CDATA[
			insert into business
			( businessLicense, businessName, businessTel, businessInfo, businessTime, businessAddress, businessMenu, businessBenefit, businessPhoto, businessLat, businessLng) 
			values
			(#{businessLicense},#{businessName},#{businessTel},#{businessInfo},#{businessTime},#{businessAddress},#{businessMenu},#{businessBenefit},#{businessPhoto},#{businessLat},#{businessLng})
		]]>
	</insert>	


	<!-- 가맹점 수정 -->
	<update id="businessUpdate" parameterType="hashmap">
		<![CDATA[
		
			update business 
			set 
			businessLicense = #{businessLicense}, businessName = #{businessName}, businessTel = #{businessTel}, businessInfo = #{businessInfo}, businessTime = #{businessTime}, businessAddress = #{businessAddress}, businessMenu = #{businessMenu}, businessBenefit = #{businessBenefit}, businessPhoto = #{businessPhoto}, businessLat = #{businessLat}, businessLng = #{businessLng}
			where 
			businessId = #{businessId}
			
		]]>
	</update>	


	<!-- 가맹점 검색 -->
	<select id="businessSearch" parameterType="hashmap" resultType="hashmap">
		<![CDATA[
			select * 
			from business 
			where businessName like concat('%',#{businessKeyword},'%')
		]]>
	</select>
</mapper>

